import sqlite3
from habit import Habit

def setup_predefined_habits():
    """
    Adds predefined habits to the database and populates them with dummy data.
    
    This function creates a list of predefined habits and stores them in the database.
    It then adds a set of dummy data for each habit to simulate tracking for 4 weeks.
    """
    predefined_habits = [
        Habit("Exercise", "daily"),
        Habit("Read a Book", "daily"),
        Habit("Meditation", "daily"),
        Habit("Clean House", "weekly"),
        Habit("Grocery Shopping", "weekly")
    ]

    # Save each habit to the database
    for habit in predefined_habits:
        habit.save_to_db()

    # Add dummy data to simulate habit tracking
    add_dummy_data()

def add_dummy_data():
    """
    Inserts dummy data for 4 weeks into the habits table.
    
    The dummy data includes entries for each predefined habit. The data simulates 
    habit completion for each day (for daily habits) and each week (for weekly habits).
    """
    dummy_data = [
        # Exercise (Daily)
    ("Exercise", "daily", "2024-08-01 06:30:00", "2024-08-01 07:20:00", 1, 1, 0),
    ("Exercise", "daily", "2024-08-02 06:30:00", "2024-08-02 07:05:00", 2, 2, 0),
    ("Exercise", "daily", "2024-08-03 06:30:00", "2024-08-03 07:15:00", 3, 3, 0),
    ("Exercise", "daily", "2024-08-04 06:30:00", "2024-08-04 07:10:00", 4, 4, 0),
    ("Exercise", "daily", "2024-08-05 06:30:00", "2024-08-05 07:10:00", 5, 5, 0),
    ("Exercise", "daily", "2024-08-06 06:30:00", "2024-08-06 07:15:00", 6, 6, 0),
    ("Exercise", "daily", "2024-08-07 06:30:00", "2024-08-07 07:20:00", 7, 7, 0),
    ("Exercise", "daily", "2024-08-08 06:30:00", "2024-08-08 07:05:00", 8, 8, 0),
    ("Exercise", "daily", "2024-08-09 06:30:00", "2024-08-09 07:15:00", 9, 9, 0),
    ("Exercise", "daily", "2024-08-10 06:30:00", "2024-08-10 07:10:00", 10, 10, 0),
    ("Exercise", "daily", "2024-08-11 06:30:00", "2024-08-11 07:20:00", 11, 11, 0),
    ("Exercise", "daily", "2024-08-12 06:30:00", "2024-08-12 07:05:00", 12, 12, 0),
    ("Exercise", "daily", "2024-08-13 06:30:00", "2024-08-13 07:15:00", 13, 13, 0),
    ("Exercise", "daily", "2024-08-14 06:30:00", "2024-08-14 07:10:00", 14, 14, 0),
    ("Exercise", "daily", "2024-08-15 06:30:00", "2024-08-15 07:20:00", 15, 15, 0),
    ("Exercise", "daily", "2024-08-16 06:30:00", "2024-08-16 07:05:00", 16, 16, 0),
    ("Exercise", "daily", "2024-08-17 06:30:00", "2024-08-17 07:15:00", 17, 17, 0),
    ("Exercise", "daily", "2024-08-18 06:30:00", "2024-08-18 07:10:00", 18, 18, 0),
    ("Exercise", "daily", "2024-08-19 06:30:00", "2024-08-19 07:20:00", 19, 19, 0),
    ("Exercise", "daily", "2024-08-20 06:30:00", "2024-08-20 07:05:00", 20, 20, 0),
    ("Exercise", "daily", "2024-08-21 06:30:00", "2024-08-21 07:05:00", 21, 21, 0),
    ("Exercise", "daily", "2024-08-22 06:30:00", "2024-08-22 07:15:00", 22, 22, 0),
    ("Exercise", "daily", "2024-08-23 06:30:00", "2024-08-23 07:05:00", 23, 23, 0),
    ("Exercise", "daily", "2024-08-24 06:30:00", "2024-08-24 07:20:00", 24, 24, 0),
    ("Exercise", "daily", "2024-08-25 06:30:00", "2024-08-25 07:20:00", 25, 25, 0),
    ("Exercise", "daily", "2024-08-26 06:30:00", "2024-08-26 07:05:00", 26, 26, 0),
    ("Exercise", "daily", "2024-08-27 06:30:00", "2024-08-27 07:15:00", 27, 27, 0),
    ("Exercise", "daily", "2024-08-28 06:30:00", "2024-08-28 07:10:00", 28, 28, 0),
    ("Exercise", "daily", "2024-08-29 06:30:00", "2024-08-29 07:20:00", 29, 29, 0),
    ("Exercise", "daily", "2024-08-30 06:30:00", "2024-08-30 07:05:00", 30, 30, 0),
    ("Exercise", "daily", "2024-08-31 06:30:00", "2024-08-31 07:05:00", 31, 31, 0),
    # Reading a Book (daily)
    ("Read a Book", "daily", "2024-08-01 08:30:00", "2024-08-01 09:20:00", 1, 1, 0),
    ("Read a Book", "daily", "2024-08-02 08:30:00", "2024-08-02 09:05:00", 2, 2, 0),
    ("Read a Book", "daily", "2024-08-03 08:30:00", "2024-08-03 09:15:00", 3, 3, 0),
    ("Read a Book", "daily", "2024-08-04 08:30:00", "2024-08-04 09:10:00", 4, 4, 0),
    ("Read a Book", "daily", "2024-08-05 08:30:00", "2024-08-05 09:10:00", 5, 5, 0),
    ("Read a Book", "daily", "2024-08-06 08:30:00", "2024-08-06 09:15:00", 6, 6, 0),
    ("Read a Book", "daily", "2024-08-07 08:30:00", "2024-08-07 09:20:00", 7, 7, 0),    
    ("Read a Book", "daily", "2024-08-08 08:30:00", "2024-08-08 09:05:00", 8, 8, 0),
    ("Read a Book", "daily", "2024-08-09 08:30:00", "2024-08-09 09:15:00", 9, 9, 0),
    ("Read a Book", "daily", "2024-08-10 08:30:00", "2024-08-10 09:10:00", 10, 10, 0),
    ("Read a Book", "daily", "2024-08-11 08:30:00", "2024-08-11 09:20:00", 11, 11, 0),
    ("Read a Book", "daily", "2024-08-12 08:30:00", "2024-08-12 09:05:00", 12, 12, 0),
    ("Read a Book", "daily", "2024-08-13 08:30:00", "2024-08-13 09:15:00", 13, 13, 0),
    ("Read a Book", "daily", "2024-08-14 08:30:00", "2024-08-14 09:10:00", 14, 14, 0),
    ("Read a Book", "daily", "2024-08-15 08:30:00", "2024-08-15 09:20:00", 15, 15, 0),
    ("Read a Book", "daily", "2024-08-16 08:30:00", "2024-08-16 09:05:00", 16, 16, 0),
    ("Read a Book", "daily", "2024-08-17 08:30:00", "2024-08-17 09:15:00", 17, 17, 0),
    ("Read a Book", "daily", "2024-08-18 08:30:00", "2024-08-18 09:10:00", 18, 18, 0),
    ("Read a Book", "daily", "2024-08-19 08:30:00", "2024-08-19 09:20:00", 19, 19, 0),
    ("Read a Book", "daily", "2024-08-20 08:30:00", "2024-08-20 09:05:00", 20, 20, 0),
    ("Read a Book", "daily", "2024-08-21 08:30:00", "2024-08-21 09:05:00", 21, 21, 0),
    ("Read a Book", "daily", "2024-08-22 08:30:00", "2024-08-22 09:15:00", 22, 22, 0),
    ("Read a Book", "daily", "2024-08-23 08:30:00", "2024-08-23 09:05:00", 23, 23, 0),
    ("Read a Book", "daily", "2024-08-24 08:30:00", "2024-08-24 09:20:00", 24, 24, 0),
    ("Read a Book", "daily", "2024-08-25 08:30:00", "2024-08-25 09:20:00", 25, 25, 0),
    ("Read a Book", "daily", "2024-08-26 08:30:00", "2024-08-26 09:05:00", 26, 26, 0),
    ("Read a Book", "daily", "2024-08-27 08:30:00", "2024-08-27 09:15:00", 27, 27, 0),
    ("Read a Book", "daily", "2024-08-28 08:30:00", "2024-08-28 09:10:00", 28, 28, 0),
    ("Read a Book", "daily", "2024-08-29 08:30:00", "2024-08-29 09:20:00", 29, 29, 0),
    ("Read a Book", "daily", "2024-08-30 08:30:00", "2024-08-30 09:05:00", 30, 30, 0),
    ("Read a Book", "daily", "2024-08-31 08:30:00", "2024-08-31 09:05:00", 31, 31, 0),
    #Meditate (Daily)
    ("Meditation", "daily", "2024-08-01 09:30:00", "2024-08-01 10:20:00", 1, 1, 0),
    ("Meditation", "daily", "2024-08-02 09:30:00", "2024-08-02 10:05:00", 2, 2, 0),
    ("Meditation", "daily", "2024-08-03 09:30:00", "2024-08-03 10:15:00", 3, 3, 0),
    ("Meditation", "daily", "2024-08-04 09:30:00", "2024-08-04 10:10:00", 4, 4, 0),
    ("Meditation", "daily", "2024-08-05 09:30:00", "2024-08-05 10:10:00", 5, 5, 0),
    ("Meditation", "daily", "2024-08-06 09:30:00", "2024-08-06 10:15:00", 6, 6, 0),
    ("Meditation", "daily", "2024-08-07 09:30:00", "2024-08-07 10:20:00", 7, 7, 0),
    ("Meditation", "daily", "2024-08-08 09:30:00", "2024-08-08 10:05:00", 8, 8, 0),
    ("Meditation", "daily", "2024-08-09 09:30:00", "2024-08-09 10:15:00", 9, 9, 0),
    ("Meditation", "daily", "2024-08-10 09:30:00", "2024-08-10 10:10:00", 10, 10, 0),
    ("Meditation", "daily", "2024-08-11 09:30:00", "2024-08-11 10:20:00", 11, 11, 0),
    ("Meditation", "daily", "2024-08-12 09:30:00", "2024-08-12 10:05:00", 12, 12, 0),
    ("Meditation", "daily", "2024-08-13 09:30:00", "2024-08-13 10:15:00", 13, 13, 0),
    ("Meditation", "daily", "2024-08-14 09:30:00", "2024-08-14 10:10:00", 14, 14, 0),
    ("Meditation", "daily", "2024-08-15 09:30:00", "2024-08-15 10:20:00", 15, 15, 0),
    ("Meditation", "daily", "2024-08-16 09:30:00", "2024-08-16 10:05:00", 16, 16, 0),
    ("Meditation", "daily", "2024-08-17 09:30:00", "2024-08-17 10:15:00", 17, 17, 0),
    ("Meditation", "daily", "2024-08-18 09:30:00", "2024-08-18 10:10:00", 18, 18, 0),
    ("Meditation", "daily", "2024-08-19 09:30:00", "2024-08-19 10:20:00", 19, 19, 0),
    ("Meditation", "daily", "2024-08-20 09:30:00", "2024-08-20 10:05:00", 20, 20, 0),
    ("Meditation", "daily", "2024-08-21 09:30:00", "2024-08-21 10:05:00", 21, 21, 0),
    ("Meditation", "daily", "2024-08-22 09:30:00", "2024-08-22 10:15:00", 22, 22, 0),
    ("Meditation", "daily", "2024-08-23 09:30:00", "2024-08-23 10:05:00", 23, 23, 0),
    ("Meditation", "daily", "2024-08-24 09:30:00", "2024-08-24 10:20:00", 24, 24, 0),
    ("Meditation", "daily", "2024-08-25 09:30:00", "2024-08-25 10:20:00", 25, 25, 0),
    ("Meditation", "daily", "2024-08-26 09:30:00", "2024-08-26 10:05:00", 26, 26, 0),
    ("Meditation", "daily", "2024-08-27 09:30:00", "2024-08-27 10:15:00", 27, 27, 0),
    ("Meditation", "daily", "2024-08-28 09:30:00", "2024-08-28 10:10:00", 28, 28, 0),
    ("Meditation", "daily", "2024-08-29 09:30:00", "2024-08-29 10:20:00", 29, 29, 0),
    ("Meditation", "daily", "2024-08-30 09:30:00", "2024-08-30 10:05:00", 30, 30, 0),
    ("Meditation", "daily", "2024-08-31 09:30:00", "2024-08-31 10:05:00", 31, 31, 0),
    # Clean House (Weekly)
    ("Clean House", "weekly", "2024-08-01 09:00:00", "2024-08-07 18:00:00", 1, 1, 0),
    ("Clean House", "weekly", "2024-08-08 09:00:00", "2024-08-14 18:00:00", 2, 2, 0),
    ("Clean House", "weekly", "2024-08-15 09:00:00", "2024-08-21 18:00:00", 3, 3, 0),
    ("Clean House", "weekly", "2024-08-22 09:00:00", "2024-08-28 18:00:00", 4, 4, 0),
    # Grocery Shopping (Weekly)
    ("Grocery Shopping", "weekly", "2024-08-01 17:00:00", "2024-08-06 19:00:00", 1, 1, 0),
    ("Grocery Shopping", "weekly", "2024-08-08 17:00:00", "2024-08-13 19:00:00", 2, 2, 0),
    ("Grocery Shopping", "weekly", "2024-08-15 17:00:00", "2024-08-20 19:00:00", 3, 3, 0),
    ("Grocery Shopping", "weekly", "2024-08-22 17:00:00", "2024-08-27 19:00:00", 4, 4, 0)
    ]

    # Connect to the database and insert dummy data
    conn = sqlite3.connect(Habit.db_file)
    c = conn.cursor()
    
    c.executemany('''INSERT INTO habits (name, period, created_at, completed_at, streak, longest_streak, missed_periods) 
                     VALUES (?, ?, ?, ?, ?, ?, ?)''', dummy_data)

    conn.commit()
    conn.close()

if __name__ == "__main__":
    setup_predefined_habits()
